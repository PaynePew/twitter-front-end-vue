(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1df0e70d"],{1601:function(e,t,c){"use strict";c("2ed3")},"1c6c":function(e,t,c){"use strict";c.r(t);var r=c("7a23"),a={key:1};function i(e,t,c,i,n,s){var l=Object(r["A"])("AppBar"),o=Object(r["A"])("Spinner"),u=Object(r["A"])("ArticleCardShow"),d=Object(r["A"])("ArticleCardWithReply");return Object(r["t"])(),Object(r["g"])(r["a"],null,[Object(r["j"])(l,{status:"推文",stepper:!0}),n.isLoading?(Object(r["t"])(),Object(r["e"])(o,{key:0})):(Object(r["t"])(),Object(r["g"])("div",a,[Object(r["j"])(u,{"current-article":e.currentArticle},null,8,["current-article"]),Object(r["j"])(d,{"init-article":e.currentReplies,owner:e.articleOwner},null,8,["init-article","owner"])]))],64)}var n=c("1da1"),s=c("5530"),l=(c("96cf"),c("dd38")),o=(c("b0c0"),c("a4d3"),c("e01a"),c("7478")),u=c.n(o),d=c("0b05"),b=c.n(d),h=c("7be2"),O=c.n(h),j=function(e){return Object(r["w"])("data-v-044f9e55"),e=e(),Object(r["u"])(),e},p={class:"article-show"},_={class:"article-show__wrapper"},v={class:"article-show__container"},f=["src"],w={class:"article-show__title"},m={class:"article-show__name"},g={class:"article-show__account"},A={class:"article-show__main"},k={class:"article-show__des"},L={class:"article-show__time-box"},y={class:"article-show__time"},x={class:"article-show__popular-box"},R={class:"article-show__popular"},C={class:"article-show__prefix"},D=j((function(){return Object(r["h"])("div",{class:"article-show__suffix"},"回覆",-1)})),I={class:"article-show__popular"},E={class:"article-show__prefix"},T=j((function(){return Object(r["h"])("div",{class:"article-show__suffix"},"喜歡次數",-1)})),U={class:"article-show__action-box"},S=j((function(){return Object(r["h"])("img",{class:"article-show__icon",src:u.a,alt:""},null,-1)})),G=[S],$={class:"article-show__like"};function H(e,t,c,a,i,n){return Object(r["t"])(),Object(r["g"])("section",p,[Object(r["h"])("div",_,[Object(r["h"])("div",v,[Object(r["h"])("div",{class:"article-show__header",onClick:t[0]||(t[0]=Object(r["L"])((function(e){return n.handlePageRoute(i.article.User.id)}),["stop"]))},[Object(r["h"])("img",{class:"article-show__avatar",src:i.article.User.avatar,alt:""},null,8,f),Object(r["h"])("div",w,[Object(r["h"])("div",m,Object(r["D"])(i.article.User.name),1),Object(r["h"])("div",g,"@"+Object(r["D"])(i.article.User.account),1)])]),Object(r["h"])("div",A,[Object(r["h"])("div",k,Object(r["D"])(i.article.description),1),Object(r["h"])("div",L,[Object(r["h"])("div",y,Object(r["D"])(e.moment(i.article.createdAt)),1)]),Object(r["h"])("div",x,[Object(r["h"])("div",R,[Object(r["h"])("div",C,Object(r["D"])(i.article.repliedCount)+"  ",1),D]),Object(r["h"])("div",I,[Object(r["h"])("div",E,Object(r["D"])(i.article.likedCount)+"  ",1),T])]),Object(r["h"])("div",U,[Object(r["h"])("div",{class:"article-show__reply",onClick:t[1]||(t[1]=Object(r["L"])((function(t){e.TOGGLE_MODAL(),e.LOAD_ARTICLE(i.article)}),["stop"]))},G),Object(r["h"])("div",$,[i.article.isLiked?(Object(r["t"])(),Object(r["g"])("img",{key:1,onClick:t[3]||(t[3]=Object(r["L"])((function(e){return n.deleteLike(i.article.id)}),["stop"])),class:"article-show__icon",src:O.a,alt:""})):(Object(r["t"])(),Object(r["g"])("img",{key:0,onClick:t[2]||(t[2]=Object(r["L"])((function(e){return n.postLike(i.article.id)}),["stop"])),class:"article-show__icon",src:b.a,alt:""}))])])])])])])}var P=c("2708"),W=c("5502"),B=c("18a8"),F={props:{currentArticle:{Object:Object}},data:function(){return{article:this.currentArticle}},methods:Object(s["a"])(Object(s["a"])({},Object(W["c"])("modalArticle",["TOGGLE_MODAL","LOAD_ARTICLE"])),{},{handlePageRoute:function(e){this.$router.push({name:"UserInfo",params:{userId:e}})},toggleIsLike:function(){this.article.isLiked=!this.article.isLiked},postLike:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function c(){var r,a;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,t.toggleIsLike(),c.next=4,B["a"].like.create(e);case 4:if(r=c.sent,a=r.data,"success"===a.status){c.next=8;break}throw new Error(a.message);case 8:c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](0),console.log(c.t0);case 13:case"end":return c.stop()}}),c,null,[[0,10]])})))()},deleteLike:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function c(){var r,a;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,t.toggleIsLike(),c.next=4,B["a"].like.delete(e);case 4:if(r=c.sent,a=r.data,"success"===a.status){c.next=8;break}throw new Error(a.message);case 8:c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](0),console.log(c.t0);case 13:case"end":return c.stop()}}),c,null,[[0,10]])})))()}}),watch:{currentArticle:function(e){this.article=e}},mixins:[P["a"]]},J=(c("1601"),c("6b0d")),M=c.n(J);const z=M()(F,[["render",H],["__scopeId","data-v-044f9e55"]]);var N=z,Y=function(e){return Object(r["w"])("data-v-48e3def5"),e=e(),Object(r["u"])(),e},q={class:"article-card-reply__wrapper"},K={class:"article-card-reply__container"},Q={class:"article-card-reply__side"},V=["src"],X={class:"article-card-reply__main"},Z={class:"article-card-reply__header"},ee={class:"article-card-reply__name"},te={class:"article-card-reply__account"},ce=Y((function(){return Object(r["h"])("span",null,"·",-1)})),re={class:"article-card-reply__time"},ae={class:"article-card-reply__subtitle"},ie=Y((function(){return Object(r["h"])("span",{class:"article-card-reply__prefix"},"回覆",-1)})),ne={class:"article-card-reply__suffix"},se={class:"article-card-reply__body"};function le(e,t,c,a,i,n){return Object(r["t"])(!0),Object(r["g"])(r["a"],null,Object(r["z"])(i.replies,(function(t,a){return Object(r["t"])(),Object(r["g"])("section",{key:a,class:"article-card-reply"},[Object(r["h"])("div",q,[Object(r["h"])("div",K,[Object(r["h"])("div",Q,[Object(r["h"])("img",{class:"article-card-reply__avatar",src:t.User.avatar,alt:""},null,8,V)]),Object(r["h"])("div",X,[Object(r["h"])("div",Z,[Object(r["h"])("div",ee,Object(r["D"])(t.User.name),1),Object(r["h"])("div",te," @"+Object(r["D"])(t.User.account),1),ce,Object(r["h"])("div",re,Object(r["D"])(e.fromNow(t.createdAt)),1)]),Object(r["h"])("div",ae,[ie,Object(r["h"])("div",ne,"@"+Object(r["D"])(c.owner.account),1)]),Object(r["h"])("div",se,Object(r["D"])(t.comment),1)])])])])})),128)}var oe={props:{initArticle:Array,owner:Object},data:function(){return{replies:this.initArticle}},watch:{initArticle:function(e){this.replies=e}},mixins:[P["a"]]};c("d6a9");const ue=M()(oe,[["render",le],["__scopeId","data-v-48e3def5"]]);var de=ue,be=c("2375"),he={components:{ArticleCardWithReply:de,ArticleCardShow:N,AppBar:l["a"],Spinner:be["a"]},data:function(){return{isLoading:!0}},created:function(){var e=this.$route.params.articleId;this.getArticleShow(e),this.getArticleReply(e)},computed:Object(s["a"])({},Object(W["d"])({currentArticle:function(e){return e.modalArticle.currentArticle},currentReplies:function(e){return e.modalArticle.currentReplies},articleOwner:function(e){return e.modalArticle.articleOwner}})),methods:{getArticleShow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,t.isLoading=!0,c.next=4,t.$store.dispatch("modalArticle/FETCH_ARTICLESHOW",e);case 4:t.isLoading=!1,c.next=11;break;case 7:c.prev=7,c.t0=c["catch"](0),t.isLoading=!1,console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,7]])})))()},getArticleReply:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,t.$store.dispatch("modalArticle/FETCH_ARTICLE_REPLY",e);case 3:c.next=8;break;case 5:c.prev=5,c.t0=c["catch"](0),console.log(c.t0);case 8:case"end":return c.stop()}}),c,null,[[0,5]])})))()}}};const Oe=M()(he,[["render",i]]);t["default"]=Oe},"2ed3":function(e,t,c){},d6a9:function(e,t,c){"use strict";c("f0d2")},f0d2:function(e,t,c){}}]);
//# sourceMappingURL=chunk-1df0e70d.a1de7bee.js.map